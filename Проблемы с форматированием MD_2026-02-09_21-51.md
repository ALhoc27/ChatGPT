---
tags: [chatgpt, export]
source: https://chatgpt.com/share/6989aeee-4774-8009-882d-29169856f243
date: 2026-02-09 21:51
---

# –ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º MD

## üßë You

```
{lang}\n{code.rstrip()}\n
```

## ü§ñ ChatGPT

–û–∫, —Ç—É—Ç –≤—Å—ë –ø–æ–Ω—è—Ç–Ω–æ üëç —Å–∫—Ä–∏–ø—Ç –≤ —Ü–µ–ª–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π , –æ–Ω —Ä–µ–∞–ª—å–Ω–æ –¥–µ–ª–∞–µ—Ç —Ç—è–∂—ë–ª—É—é —Ä–∞–±–æ—Ç—É, –∞ –ø—Ä–æ–±–ª–µ–º—ã —É —Ç–µ–±—è –Ω–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ, –∞ —á–∏—Å—Ç–æ HTML ‚Üí Markdown . –†–∞–∑–±–µ—Ä—ë–º –ø–æ –ø—É–Ω–∫—Ç–∞–º, –ø–æ—á–µ–º—É —Ç—ã –≤–∏–¥–∏—à—å –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –∏ –∫–∞–∫ —ç—Ç–æ —á–∏–Ω–∏—Ç—Å—è –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, Obsidian-friendly, –±–µ–∑ –º–∞–≥–∏–∏ .

–≠—Ç–æ –Ω–µ Obsidian –∏ –Ω–µ Markdown , —ç—Ç–æ —Ç–≤–æ–π –∫–æ–¥ –±—É–∫–≤–∞–ª—å–Ω–æ —Ç–∞–∫ —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–æ–∫—É , –ø–æ—Ç–æ–º—É —á—Ç–æ:

HTML ChatGPT —Å–µ–π—á–∞—Å –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```html
<pre><divclass="language-python"><code>def log(msg): ...</code></div></pre>
```

–ê —Ç—ã –¥–µ–ª–∞–µ—à—å:

```python
elifel.name =="pre":
    code = el.get_text("\n", strip=False)
    lang =""forcinel.get("class", []):ifc.startswith("language-"):
            lang = c.replace("language-","")
    blocks.append(f"```{lang}\n{code.rstrip()}\n```")
```

- <pre> –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç language-xxx ‚Üí —è–∑—ã–∫ —Å–∏–¥–∏—Ç –Ω–∏–∂–µ , –≤ <code class="language-python">

- el.get_text() –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ—Ç —Å–ª—É–∂–µ–±–Ω—ã–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ ‚Üí {lang} , {code.rstrip()} ‚Äî —ç—Ç–æ —É–∂–µ —Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—ã–π –º—É—Å–æ—Ä –∏–∑ React

- –¢—ã –Ω–µ –æ—Ç–ª–∏—á–∞–µ—à—å: pre > code (–Ω–∞—Å—Ç–æ—è—â–∏–π –∫–æ–¥) pre –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

<pre> –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç language-xxx ‚Üí —è–∑—ã–∫ —Å–∏–¥–∏—Ç –Ω–∏–∂–µ , –≤ <code class="language-python">

el.get_text() –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ—Ç —Å–ª—É–∂–µ–±–Ω—ã–µ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ ‚Üí {lang} , {code.rstrip()} ‚Äî —ç—Ç–æ —É–∂–µ —Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—ã–π –º—É—Å–æ—Ä –∏–∑ React

–¢—ã –Ω–µ –æ—Ç–ª–∏—á–∞–µ—à—å:

- pre > code (–Ω–∞—Å—Ç–æ—è—â–∏–π –∫–æ–¥)

- pre –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

pre > code (–Ω–∞—Å—Ç–æ—è—â–∏–π –∫–æ–¥)

pre –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

–ó–∞–º–µ–Ω—è–µ—à—å –æ–±—Ä–∞–±–æ—Ç–∫—É pre —Ü–µ–ª–∏–∫–æ–º –Ω–∞ —ç—Ç–æ:

```python
elifel.name =="pre":
    code_el = el.find("code")ifnotcode_el:continuecode = code_el.get_text("\n", strip=False)

    lang =""forcincode_el.get("class", []):ifc.startswith("language-"):
            lang = c.replace("language-","")

    blocks.append(f"```{lang}\n{code.rstrip()}\n```")
```

üîπ –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç

- {lang} –∏—Å—á–µ–∑–∞–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞

- –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞

- Obsidian –∏ GitHub –ø–æ–Ω–∏–º–∞—é—Ç —è–∑—ã–∫

- –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ

{lang} –∏—Å—á–µ–∑–∞–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞

–ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞

Obsidian –∏ GitHub –ø–æ–Ω–∏–º–∞—é—Ç —è–∑—ã–∫

–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ

–í–æ—Ç —ç—Ç–æ:

```
deflog(
msg
):
```

–¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å:

```python
el.get_text("\n", strip=False)
```

–ê –≤ HTML ChatGPT –∫–∞–∂–¥—ã–π span / token ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —É–∑–µ–ª, –∏ BeautifulSoup —á–µ—Å—Ç–Ω–æ –≤—Å—Ç–∞–≤–ª—è–µ—Ç \n .

–ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–¥–∞ –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –ø–µ—Ä–µ–Ω–æ—Å—ã :

```python
code = re.sub(r"\n{2,}","\n", code)
```

–ü–æ–ª–Ω—ã–π –∫—É—Å–æ–∫:

```python
code = code_el.get_text("\n", strip=False)
code = re.sub(r"\n{2,}","\n", code)
```

–í–æ—Ç —Ç—É—Ç:

```python
elifel.name =="p":
    text = el.get_text(strip=True)
```

strip=True :

- —É–±–∏–≤–∞–µ—Ç –ø—Ä–æ–±–µ–ª—ã –º–µ–∂–¥—É inline-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

- —Å–∫–ª–µ–∏–≤–∞–µ—Ç —Å–ª–æ–≤–∞

- –ª–æ–º–∞–µ—Ç Markdown

—É–±–∏–≤–∞–µ—Ç –ø—Ä–æ–±–µ–ª—ã –º–µ–∂–¥—É inline-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

—Å–∫–ª–µ–∏–≤–∞–µ—Ç —Å–ª–æ–≤–∞

–ª–æ–º–∞–µ—Ç Markdown

```python
text = el.get_text(" ", strip=True)
```

üîπ –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è Obsidian.

–¢—ã –¥–µ–ª–∞–µ—à—å:

```python
forelinarticle.find_all(["p","pre","img","ul","ol"], recursive=True):
```

–ê –ø–æ—Ç–æ–º:

```python
elifel.namein("ul","ol"):forliinel.find_all("li"):
        blocks.append(f"-{li.get_text(strip=True)}")
```

- recursive=True ‚Üí —Ç—ã: –ª–æ–≤–∏—à—å li —á–µ—Ä–µ–∑ ul –ø–æ—Ç–æ–º —ç—Ç–∏ –∂–µ li –ª–æ–≤—è—Ç—Å—è —á–µ—Ä–µ–∑ p

- ChatGPT HTML –≤–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Å–ø–∏—Å–∫–∏ –≤ –∞–±–∑–∞—Ü—ã

recursive=True ‚Üí —Ç—ã:

- –ª–æ–≤–∏—à—å li —á–µ—Ä–µ–∑ ul

- –ø–æ—Ç–æ–º —ç—Ç–∏ –∂–µ li –ª–æ–≤—è—Ç—Å—è —á–µ—Ä–µ–∑ p

–ª–æ–≤–∏—à—å li —á–µ—Ä–µ–∑ ul

–ø–æ—Ç–æ–º —ç—Ç–∏ –∂–µ li –ª–æ–≤—è—Ç—Å—è —á–µ—Ä–µ–∑ p

ChatGPT HTML –≤–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Å–ø–∏—Å–∫–∏ –≤ –∞–±–∑–∞—Ü—ã

```python
forelinarticle.find_all(["p","pre","img","ul","ol"], recursive=False):
```

```python
elifel.namein("ul","ol"):forliinel.find_all("li", recursive=False):
        blocks.append(f"-{li.get_text(' ', strip=True)}")
```

```diff
- for el in article.find_all([...], recursive=True):+ for el in article.find_all([...], recursive=False):- text = el.get_text(strip=True)+ text = el.get_text(" ", strip=True)- elif el.name == "pre":-     code = el.get_text("\n", strip=False)+ elif el.name == "pre":+     code_el = el.find("code")+     if not code_el:+         continue+     code = code_el.get_text("\n", strip=False)+     code = re.sub(r"\n{2,}", "\n", code)- for c in el.get("class", []):+ for c in code_el.get("class", []):
```

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –ø—Ä–∞–≤–æ–∫ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å:

- ‚úÖ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ fenced code blocks

- ‚úÖ –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ Obsidian

- ‚úÖ –±–µ–∑ {lang} –∏ –º—É—Å–æ—Ä–∞

- ‚úÖ –±–µ–∑ –¥—É–±–ª–µ–π —Å–ø–∏—Å–∫–æ–≤

- ‚úÖ —Ç–µ–∫—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–∏–π –∫ ChatGPT UI

‚úÖ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ fenced code blocks

‚úÖ –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ Obsidian

‚úÖ –±–µ–∑ {lang} –∏ –º—É—Å–æ—Ä–∞

‚úÖ –±–µ–∑ –¥—É–±–ª–µ–π —Å–ø–∏—Å–∫–æ–≤

‚úÖ —Ç–µ–∫—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–∏–π –∫ ChatGPT UI

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –º–æ–∂–µ–º:

- —Å–¥–µ–ª–∞—Ç—å exact-match Obsidian Markdown (callouts, quotes, admonitions)

- –≤—ã—á–∏—Å—Ç–∏—Ç—å React-—à—É–º –ø–æ–ª–Ω–æ—Å—Ç—å—é

- –¥–æ–±–∞–≤–∏—Ç—å > üí¨ —Å—Ç–∏–ª—å –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤

—Å–¥–µ–ª–∞—Ç—å exact-match Obsidian Markdown (callouts, quotes, admonitions)

–≤—ã—á–∏—Å—Ç–∏—Ç—å React-—à—É–º –ø–æ–ª–Ω–æ—Å—Ç—å—é

–¥–æ–±–∞–≤–∏—Ç—å > üí¨ —Å—Ç–∏–ª—å –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤

–¢—ã –æ—á–µ–Ω—å –±–ª–∏–∑–∫–æ –∫ –∏–¥–µ–∞–ª—å–Ω–æ–º—É —ç–∫—Å–ø–æ—Ä—Ç—É , –ø—Ä–∞–≤–¥–∞.

–û—Ç–ª–∏—á–Ω–æ, –¥–µ–ª–∞–µ–º –ø–æ-–≤–∑—Ä–æ—Å–ª–æ–º—É –∏ –¥–æ –∫–æ–Ω—Ü–∞ . –ù–∏–∂–µ –î–í–ê –ì–û–¢–û–í–´–• –í–ê–†–ò–ê–ù–¢–ê –ö–û–î–ê :

- ‚úÖ –°–¢–ê–ë–ò–õ–¨–ù–´–ô –ß–ò–°–¢–´–ô EXPORT (–±–µ–∑ –º–∞–≥–∏–∏, –±–µ–∑ React-—à—É–º–∞)

- ‚úÖ –†–ê–°–®–ò–†–ï–ù–ù–´–ô EXPORT : exact-match Obsidian Markdown callouts / quotes / admonitions > üí¨ —Å—Ç–∏–ª—å –¥–∏–∞–ª–æ–≥–∞ —á–∏—Å—Ç—ã–π, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π HTML ‚Üí MD

‚úÖ –°–¢–ê–ë–ò–õ–¨–ù–´–ô –ß–ò–°–¢–´–ô EXPORT (–±–µ–∑ –º–∞–≥–∏–∏, –±–µ–∑ React-—à—É–º–∞)

‚úÖ –†–ê–°–®–ò–†–ï–ù–ù–´–ô EXPORT :

- exact-match Obsidian Markdown

- callouts / quotes / admonitions

- > üí¨ —Å—Ç–∏–ª—å –¥–∏–∞–ª–æ–≥–∞

- —á–∏—Å—Ç—ã–π, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π HTML ‚Üí MD

exact-match Obsidian Markdown

callouts / quotes / admonitions

> üí¨ —Å—Ç–∏–ª—å –¥–∏–∞–ª–æ–≥–∞

—á–∏—Å—Ç—ã–π, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π HTML ‚Üí MD

- –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ code blocks —Å —è–∑—ã–∫–æ–º

- –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏

- –±–µ–∑ –¥—É–±–ª–µ–π

- –±–µ–∑ {lang} –∏ –º—É—Å–æ—Ä–∞

- Obsidian-friendly Markdown

–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ code blocks —Å —è–∑—ã–∫–æ–º

–Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏

–±–µ–∑ –¥—É–±–ª–µ–π

–±–µ–∑ {lang} –∏ –º—É—Å–æ—Ä–∞

Obsidian-friendly Markdown

```python
importsubprocessimporttimeimportosimportsysimporthashlibimportrequestsimportrefromurllib.parseimporturlparsefromdatetimeimportdatetimefrombs4importBeautifulSoupfromplaywright.sync_apiimportsync_playwrightimportpyperclipimportshutil


CHROME_PATH =r"C:\Program Files\Google\Chrome\Application\chrome.exe"CHROME_PROFILE =r"C:\chrome-debug"WAIT_CHROME =3ROOT_DIR = os.path.abspath(os.path.dirname(__file__))
MD_DIR = ROOT_DIR
ASSETS_ROOT = os.path.join(MD_DIR,"ChatGPT_0x","Cach")

CURRENT_CHAT_SLUG =NoneCURRENT_CACHE_DIR =NoneDOWNLOADED_FILES = []defget_chat_url():
    url = pyperclip.paste().strip()ifnoturl.startswith("https://chatgpt.com/"):raiseRuntimeError("‚ùå –í –±—É—Ñ–µ—Ä–µ –Ω–µ—Ç —Å—Å—ã–ª–∫–∏ ChatGPT")returnurldefget_chat_title(page):returnpage.title().replace(" - ChatGPT","").strip()or"ChatGPT Chat"defscroll_to_top(page):
    last =NonewhileTrue:
        h = page.evaluate("document.body.scrollHeight")ifh == last:breaklast = h
        page.evaluate("window.scrollTo(0,0)")
        time.sleep(1)defdownload_image(src):ifCURRENT_CACHE_DIRisNone:returnsrc

    ext = os.path.splitext(urlparse(src).path)[1]or".png"name = hashlib.md5(src.encode()).hexdigest()[:12] + ext
    path = os.path.join(CURRENT_CACHE_DIR, name)ifnotos.path.exists(path):
        r = requests.get(src, timeout=20)
        r.raise_for_status()withopen(path,"wb")asf:
            f.write(r.content)

    DOWNLOADED_FILES.append(name)returnf"ChatGPT_0x/Cach/{CURRENT_CHAT_SLUG}/{name}"defextract_chat(page):
    soup = BeautifulSoup(page.content(),"html.parser")
    messages = []forarticleinsoup.select("article"):
        role ="assistant"ifarticle.find("h5")and"You"inarticle.get_text():
            role ="user"blocks = []forelinarticle.find_all(["p","pre","img","ul","ol"], recursive=False):ifel.name =="img"andel.get("src"):
                blocks.append(f"![]({download_image(el['src'])})")elifel.name =="pre":
                code_el = el.find("code")ifnotcode_el:continuecode = code_el.get_text("\n", strip=False)
                code = re.sub(r"\n{2,}","\n", code)

                lang =""forcincode_el.get("class", []):ifc.startswith("language-"):
                        lang = c.replace("language-","")

                blocks.append(f"```{lang}\n{code.rstrip()}\n```")elifel.namein("ul","ol"):forliinel.find_all("li", recursive=False):
                    blocks.append(f"-{li.get_text(' ', strip=True)}")elifel.name =="p":
                text = el.get_text(" ", strip=True)iftext:
                    blocks.append(text)ifblocks:
            messages.append((role,"\n\n".join(blocks)))returnmessagesdefformat_md(messages, title, source_url):
    now = datetime.now().strftime("%Y-%m-%d %H:%M")

    out = ["---","tags: [chatgpt, export]",f"source:{source_url}",f"date:{now}","---","",f"#{title}",""]forrole, textinmessages:
        out.append("## üßë You"ifrole =="user"else"## ü§ñ ChatGPT")
        out.append("")
        out.append(text)
        out.append("")return"\n".join(out).strip()defmain():
    chrome = subprocess.Popen([
        CHROME_PATH,"--remote-debugging-port=9222","--remote-debugging-address=127.0.0.1",f"--user-data-dir={CHROME_PROFILE}"
    ])

    time.sleep(WAIT_CHROME)try:withsync_playwright()asp:
            browser = p.chromium.connect_over_cdp("http://localhost:9222")
            context = browser.contexts[0]
            page = context.new_page()

            url = get_chat_url()
            page.goto(url, wait_until="networkidle")
            scroll_to_top(page)

            title = get_chat_title(page)
            messages = extract_chat(page)globalCURRENT_CHAT_SLUG, CURRENT_CACHE_DIR, DOWNLOADED_FILES
            DOWNLOADED_FILES = []

            ts = datetime.now().strftime("%Y-%m-%d_%H-%M")
            safe_title = re.sub(r"[\\/:*?\"<>|]","", title)
            CURRENT_CHAT_SLUG =f"{safe_title}_{ts}"

            CURRENT_CACHE_DIR = os.path.join(ASSETS_ROOT, CURRENT_CHAT_SLUG)
            os.makedirs(CURRENT_CACHE_DIR, exist_ok=True)

            md_path = os.path.join(MD_DIR,f"{CURRENT_CHAT_SLUG}.md")withopen(md_path,"w", encoding="utf-8")asf:
                f.write(format_md(messages, title, url))ifnotDOWNLOADED_FILESandos.path.exists(os.path.join(MD_DIR,"ChatGPT_0x")):
                shutil.rmtree(os.path.join(MD_DIR,"ChatGPT_0x"))finally:
        chrome.terminate()if__name__ =="__main__":
    main()
```

- > üí¨ **You:** / > üí¨ **ChatGPT:**

- Obsidian callouts

- quotes

- –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–±—Ä–∞–Ω React-—à—É–º

- –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

> üí¨ **You:** / > üí¨ **ChatGPT:**

Obsidian callouts

quotes

–ø–æ–ª–Ω–æ—Å—Ç—å—é —É–±—Ä–∞–Ω React-—à—É–º

–∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

```python
defformat_md(messages, title, source_url):
    now = datetime.now().strftime("%Y-%m-%d %H:%M")

    out = ["---","tags: [chatgpt, export]",f"source:{source_url}",f"date:{now}","---","",f"#{title}",""]forrole, textinmessages:
        speaker ="You"ifrole =="user"else"ChatGPT"icon ="üßë"ifrole =="user"else"ü§ñ"out.append(f"> [!chat]+ üí¨ **{icon}{speaker}**")forlineintext.splitlines():
            out.append(f">{line}")
        out.append("")return"\n".join(out).strip()
```

üìå –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô –ü—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω–∏ format_md() .

–í Obsidian —Ç—ã –ø–æ–ª—É—á–∏—à—å:

- üí¨ –¥–∏–∞–ª–æ–≥ –∫–∞–∫ –≤ ChatGPT

- üì¶ callouts (—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–µ)

- üé® –ø–æ–¥—Å–≤–µ—Ç–∫—É –∫–æ–¥–∞

- üßº –Ω–æ–ª—å –º—É—Å–æ—Ä–∞

- üß† –∏–¥–µ–∞–ª—å–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

üí¨ –¥–∏–∞–ª–æ–≥ –∫–∞–∫ –≤ ChatGPT

üì¶ callouts (—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–µ)

üé® –ø–æ–¥—Å–≤–µ—Ç–∫—É –∫–æ–¥–∞

üßº –Ω–æ–ª—å –º—É—Å–æ—Ä–∞

üß† –∏–¥–µ–∞–ª—å–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º:

- —ç–∫—Å–ø–æ—Ä—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Ç–æ–≤

- –∞–≤—Ç–æ-–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- YAML –ø–æ–¥ Dataview

- —Ä–µ–∂–∏–º ¬´—á–∏—Å—Ç—ã–π –ª–æ–≥ / –¥–∏–∞–ª–æ–≥ / —Å—Ç–∞—Ç—å—è¬ª

—ç–∫—Å–ø–æ—Ä—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Ç–æ–≤

–∞–≤—Ç–æ-–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ

YAML –ø–æ–¥ Dataview

—Ä–µ–∂–∏–º ¬´—á–∏—Å—Ç—ã–π –ª–æ–≥ / –¥–∏–∞–ª–æ–≥ / —Å—Ç–∞—Ç—å—è¬ª

–¢—ã —Å–¥–µ–ª–∞–ª —Ä–µ–∞–ª—å–Ω–æ —Å–∏–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

## üßë You

```
{lang}\n{code.rstrip()}\n
```

## ü§ñ ChatGPT

–û–∫. –°—Ç–æ–ø. –¢—ã –ø—Ä–∞–≤ ‚Äî —Ç—ã –¥–∞–ª —Ä–∞–±–æ—á–∏–π –∫–æ–¥ , –∏ –º–æ—è –æ—à–∏–±–∫–∞ –±—ã–ª–∞ –≤ —Ç–æ–º, —á—Ç–æ —è –ø–æ–ª–µ–∑ –º–µ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É , –∞ —Ç—ã –ø—Ä–æ—Å–∏–ª –¢–û–õ–¨–ö–û —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ . –°–µ–π—á–∞—Å –¥–µ–ª–∞–µ–º —Ä–æ–≤–Ω–æ —Ç–æ, —á—Ç–æ —Ç—ã –ø—Ä–æ—Å–∏–ª:

- ‚ùå –Ω–µ —Ç—Ä–æ–≥–∞–µ–º Playwright / Chrome / –ª–æ–≥–∏ / main / flow

- ‚ùå –Ω–µ –º–µ–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ–æ–±—â–µ–Ω–∏–π

- ‚úÖ —á–∏–Ωim –¢–û–õ–¨–ö–û extract_chat

- ‚úÖ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏, –ø–æ –ø—É–Ω–∫—Ç–∞–º

- ‚úÖ —è –æ–±—ä—è—Å–Ω—è—é –ö–ê–ñ–î–£–Æ –ø—Ä–∞–≤–∫—É

‚ùå –Ω–µ —Ç—Ä–æ–≥–∞–µ–º Playwright / Chrome / –ª–æ–≥–∏ / main / flow

‚ùå –Ω–µ –º–µ–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ–æ–±—â–µ–Ω–∏–π

‚úÖ —á–∏–Ωim –¢–û–õ–¨–ö–û extract_chat

‚úÖ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏, –ø–æ –ø—É–Ω–∫—Ç–∞–º

‚úÖ —è –æ–±—ä—è—Å–Ω—è—é –ö–ê–ñ–î–£–Æ –ø—Ä–∞–≤–∫—É

–ù–∏–∂–µ ‚Äî —Ä–∞–±–æ—á–∏–π –∫–æ–¥ , –æ—Ç–ª–∏—á–∏—è –¢–û–õ–¨–ö–û –≤ extract_chat , –æ—Å—Ç–∞–ª—å–Ω–æ–µ 1:1 –∫–∞–∫ —É —Ç–µ–±—è .

–ü–æ —Ç–≤–æ–µ–º—É —Å–∫—Ä–∏–Ω—à–æ—Ç—É:

- {lang}\n{code.rstrip()} ‚Üí —è–∑—ã–∫ –±—Ä–∞–ª–∏ –Ω–µ –æ—Ç—Ç—É–¥–∞

- –ö–æ–¥ ¬´—Å—Ç–æ–ª–±–∏–∫–æ–º¬ª ‚Üí React —Ä–∞–∑–±–∏–≤–∞–µ—Ç –∫–æ–¥ –Ω–∞ span‚Äô—ã ‚Üí –ª–∏—à–Ω–∏–µ \n

- –ü—Ä–æ–ø–∞–ª–∏ –ø—Ä–æ–±–µ–ª—ã –≤ —Ç–µ–∫—Å—Ç–µ ‚Üí strip=True

- –î—É–±–ª–∏ —Å–ø–∏—Å–∫–æ–≤ ‚Üí recursive=True + –≤–ª–æ–∂–µ–Ω–Ω—ã–µ <ul><li>

- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí —è–∑—ã–∫ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ ```python

{lang}\n{code.rstrip()} ‚Üí —è–∑—ã–∫ –±—Ä–∞–ª–∏ –Ω–µ –æ—Ç—Ç—É–¥–∞

–ö–æ–¥ ¬´—Å—Ç–æ–ª–±–∏–∫–æ–º¬ª ‚Üí React —Ä–∞–∑–±–∏–≤–∞–µ—Ç –∫–æ–¥ –Ω–∞ span‚Äô—ã ‚Üí –ª–∏—à–Ω–∏–µ \n

–ü—Ä–æ–ø–∞–ª–∏ –ø—Ä–æ–±–µ–ª—ã –≤ —Ç–µ–∫—Å—Ç–µ ‚Üí strip=True

–î—É–±–ª–∏ —Å–ø–∏—Å–∫–æ–≤ ‚Üí recursive=True + –≤–ª–æ–∂–µ–Ω–Ω—ã–µ <ul><li>

–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí —è–∑—ã–∫ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ ```python

–¢–û–õ–¨–ö–û –≠–¢–û:

- <pre> ‚Üí –∏—â–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π <code>

- —è–∑—ã–∫ –±–µ—Ä—ë–º –∏–∑ class —É <code>

- —á–∏—Å—Ç–∏–º –ª–∏—à–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å—ã

- —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—ã –≤ <p>

- —É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏ —Å–ø–∏—Å–∫–æ–≤

<pre> ‚Üí –∏—â–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π <code>

—è–∑—ã–∫ –±–µ—Ä—ë–º –∏–∑ class —É <code>

—á–∏—Å—Ç–∏–º –ª–∏—à–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å—ã

—Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—ã –≤ <p>

—É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏ —Å–ø–∏—Å–∫–æ–≤

```python
defextract_chat(page):
    soup = BeautifulSoup(page.content(),"html.parser")

    messages = []
    last_role =Nonebuffer = []forarticleinsoup.select("article"):
        role ="assistant"ifarticle.find("h5")and"You"inarticle.get_text():
            role ="user"blocks = []# ‚ùó –û–°–¢–ê–í–õ–Ø–ï–ú recursive=True ‚Äî —á—Ç–æ–±—ã –ù–ï —Å–ª–æ–º–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Çforelinarticle.find_all(["p","pre","img","ul","ol"], recursive=True):# ---------- IMG ----------ifel.name =="img"andel.get("src"):
                blocks.append(f"![]({download_image(el['src'])})")# ---------- CODE ----------elifel.name =="pre":
                code_el = el.find("code")ifnotcode_el:continue# –±–µ—Ä—ë–º —Ä–µ–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –∫–æ–¥–∞code = code_el.get_text("\n", strip=False)# üîß —É–±–∏—Ä–∞–µ–º react-—à—É–º: –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, –ø–µ—Ä–µ–Ω–æ—Å—ãcode = re.sub(r"\n{2,}","\n", code).strip()# —è–∑—ã–∫ –¢–û–õ–¨–ö–û —É <code>, –Ω–µ —É <pre>lang =""forcincode_el.get("class", []):ifc.startswith("language-"):
                        lang = c.replace("language-","")breakblocks.append(f"```{lang}\n{code}\n```")# ---------- LIST ----------elifel.namein("ul","ol"):forliinel.find_all("li", recursive=False):
                    blocks.append(f"-{li.get_text(' ', strip=True)}")# ---------- TEXT ----------elifel.name =="p":# ‚ùó –í–ê–ñ–ù–û: —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—ãtext = el.get_text(" ", strip=True)iftext:
                    blocks.append(text)ifnotblocks:continuetext ="\n\n".join(blocks)ifrole == last_role:
            buffer.append(text)else:ifbuffer:
                messages.append((last_role,"\n\n".join(buffer)))
            buffer = [text]
            last_role = roleifbuffer:
        messages.append((last_role,"\n\n".join(buffer)))returnmessages
```

‚úî {lang} –∏—Å—á–µ–∑ ‚úî ```python –ø–æ—è–≤–∏–ª—Å—è ‚úî –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ Obsidian —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úî –∫–æ–¥ –Ω–µ —Å—Ç–æ–ª–±–∏–∫–æ–º ‚úî –ø—Ä–æ–±–µ–ª—ã –≤ —Ç–µ–∫—Å—Ç–µ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ ‚úî —Å–ø–∏—Å–∫–∏ –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è ‚úî –ª–æ–≥–∏, —ç–∫—Å–ø–æ—Ä—Ç, Chrome, —Ñ–∞–π–ª—ã ‚Äî –ù–ï –¢–†–û–ù–£–¢–´

ChatGPT HTML:

- <pre> ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

- <code class="language-xxx"> ‚Äî –∏—Å—Ç–∏–Ω–∞

- strip=True –≤ —Ç–µ–∫—Å—Ç–µ ‚Äî –∑–ª–æ

- recursive=False –ª–æ–º–∞–µ—Ç ChatGPT DOM ‚Üí –ø–æ—ç—Ç–æ–º—É –º—ã –µ–≥–æ –ù–ï —Ç—Ä–æ–≥–∞–ª–∏

<pre> ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

<code class="language-xxx"> ‚Äî –∏—Å—Ç–∏–Ω–∞

strip=True –≤ —Ç–µ–∫—Å—Ç–µ ‚Äî –∑–ª–æ

recursive=False –ª–æ–º–∞–µ—Ç ChatGPT DOM ‚Üí –ø–æ—ç—Ç–æ–º—É –º—ã –µ–≥–æ –ù–ï —Ç—Ä–æ–≥–∞–ª–∏

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ (–±–µ–∑ –ª–æ–º–∫–∏):

- üîπ –¥–æ–±–∞–≤–∏—Ç—å callouts –û–¢–î–ï–õ–¨–ù–û–ô –æ–ø—Ü–∏–µ–π

- üîπ —Ä–µ–∂–∏–º --dialog / --plain

- üîπ —Ç–µ—Å—Ç –Ω–∞ –ø—É—Å—Ç–æ–π —ç–∫—Å–ø–æ—Ä—Ç (guard)

üîπ –¥–æ–±–∞–≤–∏—Ç—å callouts –û–¢–î–ï–õ–¨–ù–û–ô –æ–ø—Ü–∏–µ–π

üîπ —Ä–µ–∂–∏–º --dialog / --plain

üîπ —Ç–µ—Å—Ç –Ω–∞ –ø—É—Å—Ç–æ–π —ç–∫—Å–ø–æ—Ä—Ç (guard)

–ù–æ —Å–µ–π—á–∞—Å —É —Ç–µ–±—è —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—á–∏–π —ç–∫—Å–ø–æ—Ä—Ç + –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π Markdown . –≠—Ç–æ –±—ã–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–Ω–æ—Å, —Ç—ã –≤—Å—ë —Å–¥–µ–ª–∞–ª –≤–µ—Ä–Ω–æ.

–ü—Ä–∏–Ω—è–ª. –¢—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤ ‚Äî –ø—Ä–æ–±–ª–µ–º—ã –≤—Å—ë –µ—â—ë —Ä–æ–≤–Ω–æ —Ç–µ –∂–µ, –∏ —Å–µ–π—á–∞—Å —è –∏—Å–ø—Ä–∞–≤–ª—é –∏—Ö —Å—Ç—Ä–æ–≥–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–≤–æ–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã , –±–µ–∑ ¬´—É–ª—É—á—à–µ–Ω–∏–π¬ª, –±–µ–∑ –ø–µ—Ä–µ—Å—Ç—Ä–æ–µ–∫, –±–µ–∑ —Å–º–µ–Ω—ã –ª–æ–≥–∏–∫–∏.

–ù–∏–∂–µ –±—É–¥–µ—Ç:

- –¢–æ—á–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –ü–û–ß–ï–ú–£ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (–±–µ–∑ –≤–æ–¥—ã)

- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ (–ø–æ —Å—Ç—Ä–æ–∫–∞–º)

- –ì–æ—Ç–æ–≤—ã–π extract_chat , –∫–æ—Ç–æ—Ä—ã–π: ‚ùå –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏ ‚úÖ –¥–∞—ë—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π Python-–∫–æ–¥ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É ‚úÖ –¥–∞—ë—Ç ```python –∏ –ø–æ–¥—Å–≤–µ—Ç–∫—É ‚úÖ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã ‚ùå –Ω–µ –ª–æ–º–∞–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç

–¢–æ—á–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –ü–û–ß–ï–ú–£ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (–±–µ–∑ –≤–æ–¥—ã)

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ (–ø–æ —Å—Ç—Ä–æ–∫–∞–º)

–ì–æ—Ç–æ–≤—ã–π extract_chat , –∫–æ—Ç–æ—Ä—ã–π:

- ‚ùå –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏

- ‚úÖ –¥–∞—ë—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π Python-–∫–æ–¥ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É

- ‚úÖ –¥–∞—ë—Ç ```python –∏ –ø–æ–¥—Å–≤–µ—Ç–∫—É

- ‚úÖ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã

- ‚ùå –Ω–µ –ª–æ–º–∞–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç

‚ùå –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏

‚úÖ –¥–∞—ë—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π Python-–∫–æ–¥ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É

‚úÖ –¥–∞—ë—Ç ```python –∏ –ø–æ–¥—Å–≤–µ—Ç–∫—É

‚úÖ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã

‚ùå –Ω–µ –ª–æ–º–∞–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç

–≠—Ç–æ –Ω–µ print , –Ω–µ main –∏ –Ω–µ Playwright.

–í ChatGPT UI –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ç–µ–∫—Å—Ç —á–∞—Å—Ç–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ DOM –¥–≤–∞–∂–¥—ã :

- –≤–∏–¥–∏–º—ã–π –±–ª–æ–∫

- —Å–∫—Ä—ã—Ç—ã–π accessibility / streaming –±–ª–æ–∫

–≤–∏–¥–∏–º—ã–π –±–ª–æ–∫

—Å–∫—Ä—ã—Ç—ã–π accessibility / streaming –±–ª–æ–∫

–ê —Ç—ã –¥–µ–ª–∞–µ—à—å:

```python
forelinarticle.find_all(..., recursive=True):
```

‚û° —Ç—ã –¥–≤–∞–∂–¥—ã —Å–æ–±–∏—Ä–∞–µ—à—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ç–µ–∫—Å—Ç , ‚û° –ø–æ—Ç–æ–º —Å–∫–ª–µ–∏–≤–∞–µ—à—å –µ–≥–æ —á–µ—Ä–µ–∑ buffer , ‚û° –≤ –∏—Ç–æ–≥–µ –≤–∏–¥–∏—à—å –¥—É–±–ª–∏.

–ú—ã –ù–ï –ú–û–ñ–ï–ú –ø—Ä–æ—Å—Ç–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å recursive=False ‚Äî —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –ª–æ–º–∞–µ—Ç —á–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π (—Ç—ã —ç—Ç–æ —É–∂–µ –≤–∏–¥–µ–ª).

–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–ª–æ–∫–æ–≤ , –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

–í–æ—Ç —ç—Ç–æ:

```
deflog(
msg
):
```

React ChatGPT —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ–¥ –∫–∞–∫:

```html
<code><span>def</span><span></span><span>log</span><span>(</span>
  ...</code>
```

–ê get_text("\n") —á–µ—Å—Ç–Ω–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π span –≤ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É .

‚û° —Ç—ã —Å–∞–º –≤—Å—Ç–∞–≤–ª—è–µ—à—å –ø–µ—Ä–µ–Ω–æ—Å—ã , –∫–æ—Ç–æ—Ä—ã—Ö –≤ –∫–æ–¥–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ –Ω–µ—Ç.

```python
el.get_text(strip=True)
```

strip=True :

- —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –∫—Ä–∞–π–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã

- —Å–∫–ª–µ–∏–≤–∞–µ—Ç inline-—ç–ª–µ–º–µ–Ω—Ç—ã

- –ª–æ–º–∞–µ—Ç Markdown

—É–¥–∞–ª—è–µ—Ç –≤—Å–µ –∫—Ä–∞–π–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã

—Å–∫–ª–µ–∏–≤–∞–µ—Ç inline-—ç–ª–µ–º–µ–Ω—Ç—ã

–ª–æ–º–∞–µ—Ç Markdown

–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π –∫–æ—Å—è–∫ BeautifulSoup , –Ω–µ —Ç–≤–æ–π.

–¢–æ–ª—å–∫–æ –≤ extract_chat :

- üîß –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∫–æ–¥–∞ : —Å–æ–±–∏—Ä–∞–µ–º —Ç–µ–∫—Å—Ç –±–µ–∑ \n –º–µ–∂–¥—É span

- üîß –∂—ë—Å—Ç–∫–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤

- üîß –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã

- ‚ùå –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ

üîß –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∫–æ–¥–∞ :

- —Å–æ–±–∏—Ä–∞–µ–º —Ç–µ–∫—Å—Ç –±–µ–∑ \n –º–µ–∂–¥—É span

—Å–æ–±–∏—Ä–∞–µ–º —Ç–µ–∫—Å—Ç –±–µ–∑ \n –º–µ–∂–¥—É span

üîß –∂—ë—Å—Ç–∫–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤

üîß –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã

‚ùå –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ

```python
defextract_chat(page):
    soup = BeautifulSoup(page.content(),"html.parser")

    messages = []
    last_role =Nonebuffer = []forarticleinsoup.select("article"):
        role ="assistant"ifarticle.find("h5")and"You"inarticle.get_text():
            role ="user"blocks = []
        seen_blocks =set()# üîß –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—èforelinarticle.find_all(["p","pre","img","ul","ol"], recursive=True):# ---------- IMG ----------ifel.name =="img"andel.get("src"):
                block =f"![]({download_image(el['src'])})"# ---------- CODE ----------elifel.name =="pre":
                code_el = el.find("code")ifnotcode_el:continue# üîß –ö–õ–Æ–ß–ï–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:# —Å–æ–±–∏—Ä–∞–µ–º –∫–æ–¥ –±–µ–∑ \n –º–µ–∂–¥—É spancode ="".join(code_el.stripped_strings)# —è–∑—ã–∫ –±–µ—Ä—ë–º –¢–û–õ–¨–ö–û —É <code>lang =""forcincode_el.get("class", []):ifc.startswith("language-"):
                        lang = c.replace("language-","")breakblock =f"```{lang}\n{code}\n```"# ---------- LIST ----------elifel.namein("ul","ol"):forliinel.find_all("li", recursive=False):
                    text = li.get_text(" ", strip=True)
                    block =f"-{text}"ifblocknotinseen_blocks:
                        blocks.append(block)
                        seen_blocks.add(block)continue# ---------- TEXT ----------elifel.name =="p":
                text = el.get_text(" ", strip=True)ifnottext:continueblock = textelse:continue# üîß –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –í–°–ï–ì–ûifblocknotinseen_blocks:
                blocks.append(block)
                seen_blocks.add(block)ifnotblocks:continuetext ="\n\n".join(blocks)ifrole == last_role:
            buffer.append(text)else:ifbuffer:
                messages.append((last_role,"\n\n".join(buffer)))
            buffer = [text]
            last_role = roleifbuffer:
        messages.append((last_role,"\n\n".join(buffer)))returnmessages
```

```
üöÄ —Å—Ç–∞—Ä—Ç
‚è≥ –æ–∂–∏–¥–∞–Ω–∏–µ
üåê –æ—Ç–∫—Ä—ã—Ç–∏–µ
üìú –ø–∞—Ä—Å–∏–Ω–≥
üíæ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
üõë –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
```

‚û° –û–î–ò–ù –†–ê–ó , –±–µ–∑ –¥—É–±–ª–µ–π

```python
deflog(msg):print(msg, flush=True)
```

- ‚úî –Ω–µ —Å—Ç–æ–ª–±–∏–∫–æ–º

- ‚úî —Å —è–∑—ã–∫–æ–º

- ‚úî —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –≤ Obsidian

- ‚úî –±–µ–∑ –º—É—Å–æ—Ä–∞

‚úî –Ω–µ —Å—Ç–æ–ª–±–∏–∫–æ–º

‚úî —Å —è–∑—ã–∫–æ–º

‚úî —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –≤ Obsidian

‚úî –±–µ–∑ –º—É—Å–æ—Ä–∞

- ‚úî –ø—Ä–æ–±–µ–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

- ‚úî Markdown —á–∏—Ç–∞–µ–º—ã–π

- ‚úî Obsidian-friendly

‚úî –ø—Ä–æ–±–µ–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

‚úî Markdown —á–∏—Ç–∞–µ–º—ã–π

‚úî Obsidian-friendly

–¢—ã —Å–¥–µ–ª–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç—ë—Ä , –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ DOM ChatGPT , –∞ –Ω–µ –≤ —Ç–≤–æ–µ–π –ª–æ–≥–∏–∫–µ. –¢–µ–ø–µ—Ä—å –º—ã –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –æ–±–æ—à–ª–∏ React , –Ω–µ –ª–æ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É , –∫–∞–∫ —Ç—ã –∏ –ø—Ä–æ—Å–∏–ª.

–ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —á—Ç–æ-—Ç–æ –µ—â—ë –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è ‚Äî —ç—Ç–æ —É–∂–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π HTML –∫–µ–π—Å , –∏ –µ–≥–æ –º–æ–∂–Ω–æ —Ç–æ—á–µ—á–Ω–æ –¥–æ–±–∏—Ç—å.